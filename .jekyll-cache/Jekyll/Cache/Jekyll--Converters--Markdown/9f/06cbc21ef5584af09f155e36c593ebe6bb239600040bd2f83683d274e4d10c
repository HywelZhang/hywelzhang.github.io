I"<p>vim中使用<code class="language-plaintext highlighter-rouge">y/d/x</code>复制剪切的内容，一般情况下，只能在该文件内粘贴(p)。但是我们有时候很需要这部分内容复制到另一个文件，或者外部应用程序中，我们该怎么做呢？<br />
这里不得不讲讲，vim的复制内容存储位置。</p>

<p>vim中的复制，删除的内容都会被存放到默认寄存器中，之后可以通过粘贴操作读取默认寄存器的内容。
vim提供的寄存器，内容只对当前vim可见所以你不能够将复制的内容粘贴到该文件以外。<br />
<code class="language-plaintext highlighter-rouge">ctrl+c,ctrl+v</code>内容是存放在系统剪切板，可以在全局进行复制粘贴。如何将vim内容复制到外部？或者怎么将外部内容，保证格式情况下粘贴到vim中呢？请看下方分解。</p>

<blockquote>
  <p>vim下可以通过<code class="language-plaintext highlighter-rouge">:reg</code>查看当前寄存器内容</p>
</blockquote>

<h2 id="寄存器">寄存器</h2>
<p>vim中有多个寄存器，常用的如下：</p>
<h3 id="1---匿名寄存器">1. <code class="language-plaintext highlighter-rouge">""</code> : 匿名寄存器</h3>
<p>保存最近一次复制或者删除的内容</p>
<h3 id="2-0-9编号寄存器">2. <code class="language-plaintext highlighter-rouge">"0-"9</code>：编号寄存器</h3>
<p>其中0号寄存器保存最近一次复制(y)内容。
1-9号寄存器保存最近9次的<strong>行</strong>删除内容。<code class="language-plaintext highlighter-rouge">"1</code>是最近一次删除,1-9依次往后推，<code class="language-plaintext highlighter-rouge">"9</code>是前推到第9次删除的内容</p>
<h3 id="3-a-z或a-z字母寄存器">3. <code class="language-plaintext highlighter-rouge">"a-"z</code>或<code class="language-plaintext highlighter-rouge">"A-"Z</code>：字母寄存器</h3>
<p>给用户使用的指定寄存器，例如：用户可以在normal模式下通过<code class="language-plaintext highlighter-rouge">"a3yy</code>来将三行内容复制到<code class="language-plaintext highlighter-rouge">a</code>寄存器，然后在normal模式下输入<code class="language-plaintext highlighter-rouge">"ap</code>来将这a寄存器中的这三行内容进行粘贴。
当然对于<code class="language-plaintext highlighter-rouge">dd</code>这种命令也可以将删除内容指定到字母寄存器，如：<code class="language-plaintext highlighter-rouge">"Bdd</code>将该行删除内容添加到B寄存器，当然vim字母寄存器中，不区分大小写，所以<code class="language-plaintext highlighter-rouge">"bdd</code>与<code class="language-plaintext highlighter-rouge">"Bdd</code>会达成一样的效果</p>
<h3 id="4--小寄存器">4. <code class="language-plaintext highlighter-rouge">"-</code>：小寄存器</h3>
<p>如果你删除的只是一个单词或字母： <code class="language-plaintext highlighter-rouge">dw</code>或者<code class="language-plaintext highlighter-rouge">x</code>，那么这个单词并不会保存在<code class="language-plaintext highlighter-rouge">"1</code>这样的数字寄存器中，而是保存在<code class="language-plaintext highlighter-rouge">"-</code>寄存器里面。所有不包含换行符的删除都会保存在此寄存器中</p>
<h3 id="5-当前文件名寄存器">5. <code class="language-plaintext highlighter-rouge">"%</code>：当前文件名寄存器</h3>
<p>保存当前的文件名</p>

<h2 id="缓冲区和剪切板">缓冲区和剪切板</h2>
<h3 id="关联系统剪切板"><code class="language-plaintext highlighter-rouge">"+</code>：关联系统剪切板</h3>
<p>这里的内容将可以被vim外部所使用，相当于Windows下的<code class="language-plaintext highlighter-rouge">ctrl+c</code>。所以vim中需要在外部粘贴的数据，请使用系统剪切板来保存。</p>

<h3 id="关联系统缓存区"><code class="language-plaintext highlighter-rouge">"*</code>：关联系统缓存区</h3>
<p>缓存区与剪切板区别：缓存区是实时的，当使用鼠标或键盘选择内容时，内容就已经在缓冲区了。而剪切板需要<code class="language-plaintext highlighter-rouge">ctrl+c</code>等命令复制后，才会将内容存进去</p>

<blockquote>
  <p>若寄存器列表里无<code class="language-plaintext highlighter-rouge">"*</code> 或 <code class="language-plaintext highlighter-rouge">"+</code> 寄存器，则可能是由于没有安装vim的图形界面所致。Debian/Ubuntu下可以通过安装vim-gnome解决。</p>
</blockquote>

<blockquote>
  <p>$ sudo apt-get install vim-gnome</p>
</blockquote>

<h2 id="vim中粘贴与自动缩进">vim中粘贴与自动缩进</h2>
<p>是不是经常遇到在vim中粘贴代码后，代码格式凌乱的情况？
有下面三个方式可以解决：</p>
<ol>
  <li>使用<code class="language-plaintext highlighter-rouge">:set paste</code>模式<br />
开启paste模式后，autoindent等缩进功能将会被屏蔽，粘贴格式就会不受影响。结束后使用<code class="language-plaintext highlighter-rouge">:set nopaste</code>恢复非粘贴模式。<br />
每次手工开启关闭paste模式将会比较麻烦，可以在<code class="language-plaintext highlighter-rouge">._vimrc</code>中为其设置一个快捷键，每次需要时按一下即可切换<code class="language-plaintext highlighter-rouge">：set pastetoggle=&lt;f12&gt;</code></li>
  <li>使用系统剪切板，普通模式下<code class="language-plaintext highlighter-rouge">"+p</code>命令</li>
  <li>插入模式输入<code class="language-plaintext highlighter-rouge">&lt;C-r&gt;&lt;C-p&gt;"+</code></li>
  <li>使用缓冲区<br />
选择文本内容,vim普通模式下按 <code class="language-plaintext highlighter-rouge">"*p</code> 将选择缓冲区中内容粘贴进来</li>
</ol>

:ET